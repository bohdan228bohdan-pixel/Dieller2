{% extends 'base.html' %}
{% load static %}


{% block title %}–ü—Ä–æ—Ñ—ñ–ª—å ‚Äî Dieller Bus{% endblock %}

{% block head_extra %}
<style>
/* Profile page styles adapted to theme */
.profile-container{max-width:720px;margin:60px auto;padding:28px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.45));border:1px solid rgba(255,255,255,0.03)}
.profile-header{display:flex;flex-direction:column;align-items:center;gap:12px;margin-bottom:16px}
.avatar{width:96px;height:96px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--accent-red);font-weight:800;color:#fff;font-size:2.4rem;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
.info-row{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
.profile-label{color:var(--muted);font-weight:600}
.profile-value{font-weight:700}
.change-pass-btn,.profile-btn-secondary{display:block;width:100%;padding:12px;border-radius:10px;margin-top:12px;text-align:center}
.change-pass-btn{background:#111;color:var(--accent-red);border:1px solid rgba(255,255,255,0.03)}
.logout-btn{display:block;width:100%;padding:12px;border-radius:10px;background:linear-gradient(90deg,#c0392b,#e74c3c);color:#fff;border:none;margin-top:10px}
@media(max-width:600px){.profile-container{margin:40px 12px;padding:18px}}
</style>
{% endblock %}

{% block content %}
  <div class="profile-container" data-aos="fade-up">
    <div class="profile-header">
      <div class="avatar">{{ user.username|slice:":1"|upper }}</div>
      <h2 style="color:#fff;margin:0">–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h2>
    </div>

    <div class="profile-info">
      <div class="info-row"><span class="profile-label">–õ–æ–≥—ñ–Ω:</span><span class="profile-value">{{ user.username }}</span></div>
      <div class="info-row"><span class="profile-label">Email:</span><span class="profile-value">{{ user.email|default:"–ù–µ –≤–∫–∞–∑–∞–Ω–æ" }}</span></div>
      <div class="info-row"><span class="profile-label">–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:</span><span class="profile-value">{{ user.date_joined|date:'d.m.Y H:i' }}</span></div>
    </div>

    <div class="profile-balance" style="margin-top:12px">
      <div class="info-row"><span class="profile-label">–ë–∞–ª–∞–Ω—Å:</span><span class="profile-value">{% if user.profile.balance %}{{ user.profile.balance }} –≥—Ä–Ω{% else %}0.00 –≥—Ä–Ω{% endif %}</span></div>
    </div>

    <div class="profile-tickets" style="margin-top:12px">
      <div class="info-row" style="flex-direction:column;align-items:flex-start;padding:0">
        <span class="profile-label" style="margin-bottom:8px">–ö—É–ø–ª–µ–Ω—ñ –∫–≤–∏—Ç–∫–∏:</span>
        <ul style="padding-left:18px;color:var(--muted)">
          <li>–ö–≤–∏—Ç–æ–∫ ‚Ññ12345 ‚Äî –õ—É—Ü—å–∫ ‚Üí –õ—é–±–ª—ñ–Ω ‚Äî 01.12.2025</li>
          <li>–ö–≤–∏—Ç–æ–∫ ‚Ññ12346 ‚Äî –ö–æ–≤–µ–ª—å ‚Üí –•–µ–ª–º ‚Äî 15.11.2025</li>
        </ul>
      </div>
    </div>

    <a href="{% url 'password_change' %}" class="change-pass-btn">üîê –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</a>
    <a href="#" class="profile-btn-secondary" onclick="alert('–§—É–Ω–∫—Ü—ñ—è —É —Ä–æ–∑—Ä–æ–±—Ü—ñ')">‚úâÔ∏è –ó–º—ñ–Ω–∏—Ç–∏ email</a>

    <form method="post" action="{% url 'logout' %}">
      {% csrf_token %}
      <button type="submit" class="logout-btn">üö™ –í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É</button>
    </form>
  </div>
{% endblock %}
